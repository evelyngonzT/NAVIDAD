<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>‚ú® CR√âDITOS NAVIDE√ëOS ANIMADOS ‚ú®</title>
  <link rel="icon" type="image/png" href="./assets/favicon.png"/>
  <link rel="stylesheet" href="style.css"> 
  
  <script type="module" src="https://cdn.jsdelivr.net/npm/three@0.160/build/three.module.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160/examples/jsm/loaders/FontLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160/examples/jsm/geometries/TextGeometry.js"></script>
</head>
<body>
    
  <canvas id="christmasCanvas" style="position: fixed; top: 0; left: 0; z-index: -1;"></canvas>

  <div class="creditos-container">
    <div class="creditos-texto" id="creditosTexto">
      <h2><span class="titulo-juego">UNA NAVIDAD M√ÅGICA</span></h2>
      <p class="videojuego"> - PROYECTO FINAL -</p>

      <h3 class="seccion">Equipo Desarrollador:</h3>
      <ul>
        <li><span class="rol">üåü </span> <span class="nombre">Gonzalez Tavera Evelyn Lucero</span></li>
        <li><span class="rol">‚òÉÔ∏è </span> <span class="nombre">Chavez Moran Cristopher Jesus</span></li>
        <li><span class="rol">üéÅ </span> <span class="nombre">Rodriguez Cruz Mariel Alejandra</span></li>
        <li><span class="rol">üéÑ </span> <span class="nombre">Dominguez Rojas Estefan√≠a</span></li>
        <li><span class="rol">‚ú® </span> <span class="nombre">Sanchez Veloz Diana Yalit</span></li>
        <li><span class="rol">üîî </span> <span class="nombre">Sanchez Hidalgo Daniela Denis</span></li>
      </ul>

      <h3 class="seccion">Con el apoyo y gu√≠a de:</h3>
      <ul>
        <li><span class="rol">Mentor:</span> <span class="nombre">Ing. Jos√© Manuel Gonzales Perez</span></li>
      </ul>

      <p class="mensaje-final">¬°Gracias por hacer esta aventura virtual posible!</p>

      <h3 class="seccion">Proyecto Acad√©mico:</h3>
      <ul>
        <li><span class="rol">Realidad Virtual y Visualizaci√≥n 3D</span></li>
        <li><span class="rol">Universidad Estatal del Valle de Ecatepec</span></li>
        <li><span class="rol">Octavo Semestre - Ingenier√≠a en Comunicaci√≥n Multimedia</span></li>
      </ul>

      <p class="mensaje-final">Esperamos que hayas disfrutado de este viaje invernal. ‚ùÑÔ∏è</p>

      <p class="copyright">¬© 2025 Proyecto de Navidad. Todos los derechos reservados.<br>
        Hecho con alegr√≠a y esp√≠ritu festivo para fines educativos.</p>
    </div>
  </div>

  <script type="module">
    // =========================================================================================
    // === C√ìDIGO DEL FONDO 3D ANIMADO (THREE.JS) ===
    // =========================================================================================
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160/build/three.module.js';

    const canvas = document.getElementById('christmasCanvas');
    const renderer = new THREE.WebGLRenderer({canvas: canvas, antialias: true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    
    // === COLOR DE FONDO AZUL CLARITO ===
    renderer.setClearColor(0xa0e6ff); 
    
    const scene = new THREE.Scene();

    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.set(0, 0, 100); 

    scene.add(new THREE.AmbientLight(0xffffff, 0.5));
    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
    directionalLight.position.set(0, 50, 50);
    scene.add(directionalLight);

    const clock = new THREE.Clock();

    // --- MATERIALES ---
    const trunkMat = new THREE.MeshLambertMaterial({ color: 0x6b3e1f });
    const leafMat = new THREE.MeshLambertMaterial({ color: 0x006400 });
    const snowWhiteMat = new THREE.MeshLambertMaterial({ color: 0xf0f8ff }); 

    // Materiales para el Duende
    const pielDuendeMat = new THREE.MeshLambertMaterial({ color: 0xffdbac });
    const trajeDuendeVerdeMat = new THREE.MeshLambertMaterial({ color: 0x228B22 });
    const trajeDuendeRojoMat = new THREE.MeshLambertMaterial({ color: 0xDC143C });
    const gorroDuendeMat = new THREE.MeshLambertMaterial({ color: 0x228B22 });
    const orejasDuendeMat = new THREE.MeshLambertMaterial({ color: 0xffdbac });
    const ojosDuendeMat = new THREE.MeshBasicMaterial({ color: 0x000000 });
    const bocaDuendeMat = new THREE.MeshBasicMaterial({ color: 0x8B0000 });
    const botaOscuraMat = new THREE.MeshLambertMaterial({ color: 0x444444 });

    const lightColors = [0xFF0000, 0xFFFF00, 0x0000FF, 0x00FF00, 0xFF00FF]; 
    const allTreeLights = [];

    // --- NIEVE DE FONDO (PART√çCULAS) ---
    const snowCount = 10000;
    const snowGeo = new THREE.BufferGeometry();
    const snowPositions = new Float32Array(snowCount * 3);
    const snowSpeeds = new Float32Array(snowCount);

    for (let i = 0; i < snowCount; i++) {
        snowPositions[i*3] = (Math.random() - 0.5) * 500;
        snowPositions[i*3 + 1] = Math.random() * 200 + 50;
        snowPositions[i*3 + 2] = (Math.random() - 0.5) * 500;
        snowSpeeds[i] = 0.2 + Math.random() * 0.6;
    }
    snowGeo.setAttribute('position', new THREE.BufferAttribute(snowPositions, 3));

    const snowMaterial = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 0.8,
        transparent: true,
        opacity: 0.85,
        blending: THREE.AdditiveBlending
    });
    const snowPoints = new THREE.Points(snowGeo, snowMaterial);
    scene.add(snowPoints);

    // --- FUNCI√ìN PARA CREAR UN DUENDE DETALLADO (√öLTIMA VERSI√ìN) ---
    function crearDuende() {
        const duende = new THREE.Group();

        // 1. CUERPO
        const cuerpo = new THREE.Mesh(new THREE.CylinderGeometry(1.2, 1.5, 2.5, 16), trajeDuendeRojoMat);
        cuerpo.position.y = 1.25;
        duende.add(cuerpo);

        // 2. CUELLO DE VOLANTE
        const cuello = new THREE.Mesh(new THREE.TorusGeometry(1.1, 0.25, 8, 32), new THREE.MeshLambertMaterial({ color: 0xffffff }));
        cuello.position.y = 2.8;
        cuello.rotation.x = Math.PI / 2;
        duende.add(cuello);

        // 3. CABEZA
        const cabeza = new THREE.Mesh(new THREE.SphereGeometry(1.1, 16, 16), pielDuendeMat);
        cabeza.position.y = 4.2;
        duende.add(cabeza);

        // 4. GORRO DE DUENDE con Pomp√≥n
        const gorro = new THREE.Mesh(new THREE.ConeGeometry(1, 3, 10), trajeDuendeVerdeMat);
        gorro.position.y = 6.5;
        duende.add(gorro);
        
        const pompon = new THREE.Mesh(new THREE.SphereGeometry(0.5, 10, 10), new THREE.MeshLambertMaterial({ color: 0xffffff }));
        pompon.position.y = 7.7;
        duende.add(pompon);

        // 5. OREJAS
        const oreja = new THREE.Mesh(new THREE.ConeGeometry(0.3, 1.2, 6), orejasDuendeMat);
        oreja.rotation.z = Math.PI / 3;
        oreja.position.set(1.4, 4.5, 0);
        duende.add(oreja);

        const orejaDer = oreja.clone();
        orejaDer.rotation.z = -Math.PI / 3;
        orejaDer.position.x = -1.4;
        duende.add(orejaDer);

        // 6. DETALLES FACIALES (Nariz y Ojos)
        const nariz = new THREE.Mesh(new THREE.SphereGeometry(0.2, 8, 8), pielDuendeMat);
        nariz.position.set(0, 4.1, 1.1);
        duende.add(nariz);

        const ojoIzq = new THREE.Mesh(new THREE.SphereGeometry(0.15, 8, 8), ojosDuendeMat);
        ojoIzq.position.set(0.4, 4.3, 1.05);
        duende.add(ojoIzq);

        const ojoDer = ojoIzq.clone();
        ojoDer.position.x = -0.4;
        duende.add(ojoDer);
        
        const boca = new THREE.Mesh(new THREE.CylinderGeometry(0.5, 0.5, 0.1, 16), bocaDuendeMat);
        boca.rotation.x = Math.PI / 2;
        boca.position.set(0, 3.5, 1.1);
        duende.add(boca);

        // 7. BRAZOS
        const brazoMat = trajeDuendeVerdeMat;
        const brazoIzq = new THREE.Mesh(new THREE.CylinderGeometry(0.3, 0.3, 2, 8), brazoMat);
        brazoIzq.rotation.z = Math.PI / 2;
        brazoIzq.position.set(1.8, 2, 0);
        duende.add(brazoIzq);

        const brazoDer = brazoIzq.clone();
        brazoDer.position.x = -1.8;
        brazoDer.rotation.z = -Math.PI / 2;
        duende.add(brazoDer);
        
        // 8. PIERNAS Y BOTAS PUNTIAGUDAS
        const piernaMat = trajeDuendeRojoMat;
        const piernaIzq = new THREE.Mesh(new THREE.CylinderGeometry(0.35, 0.35, 1.5, 8), piernaMat);
        piernaIzq.position.set(0.5, 0.75, 0);
        duende.add(piernaIzq);

        const piernaDer = piernaIzq.clone();
        piernaDer.position.x = -0.5;
        duende.add(piernaDer);
        
        const bota = new THREE.Mesh(new THREE.CapsuleGeometry(0.4, 0.6, 4, 8), botaOscuraMat);
        bota.position.set(0.5, 0.1, 0.3);
        bota.rotation.x = Math.PI / 2;
        bota.rotation.y = 0.5; 
        duende.add(bota);
        
        const botaDer = bota.clone();
        botaDer.position.x = -0.5;
        botaDer.rotation.y = -0.5;
        duende.add(botaDer);


        duende.scale.set(3, 3, 3);
        return duende;
    }


    // --- √ÅRBOLES DE NAVIDAD Y DUENDES ---
    const treeCount = 20;
    const elfCount = 7; 
    const entityGroup = new THREE.Group(); 

    function crearArbolSimple() {
        const tree = new THREE.Group();
        const trunkHeight = 6;
        const trunk = new THREE.Mesh(new THREE.CylinderGeometry(0.8, 0.8, trunkHeight, 8), trunkMat);
        trunk.position.y = trunkHeight / 2;
        tree.add(trunk);

        const coneHeight = 10 + Math.random() * 5;
        const coneRadiusBase = 5 + Math.random() * 3;
        const leaves = new THREE.Mesh(new THREE.ConeGeometry(coneRadiusBase, coneHeight, 10, 1), leafMat);
        leaves.position.y = trunkHeight + coneHeight / 2 - 1;
        tree.add(leaves);

        const numLights = 10 + Math.floor(Math.random() * 5);
        const lightRadius = 0.4;
        for (let j = 0; j < numLights; j++) {
            const radius = Math.random() * coneRadiusBase * 0.8;
            const angle = Math.random() * Math.PI * 2;
            const height = Math.random() * coneHeight * 0.8;
            const lightPosX = radius * Math.cos(angle);
            const lightPosZ = radius * Math.sin(angle);
            const lightPosY = trunkHeight + height;
            const colorIndex = Math.floor(Math.random() * lightColors.length);
            const color = lightColors[colorIndex];
            
            const lightMatBasic = new THREE.MeshBasicMaterial({ color: color });
            const lightMesh = new THREE.Mesh(new THREE.SphereGeometry(lightRadius, 8, 8), lightMatBasic);
            lightMesh.position.set(lightPosX, lightPosY, lightPosZ);
            lightMesh.userData.colorIndex = colorIndex; 
            lightMesh.userData.lightColor = color; 
            tree.add(lightMesh);
            allTreeLights.push(lightMesh);
        }
        return tree;
    }

    // Generar √Årboles
    for(let i = 0; i < treeCount; i++) {
        const tree = crearArbolSimple();
        const posX = (Math.random() - 0.5) * 400;
        const posZ = (Math.random() - 0.5) * 400;
        const scale = 0.8 + Math.random() * 0.4;
        tree.position.set(posX, 0, posZ);
        tree.scale.set(scale, scale, scale);
        entityGroup.add(tree);
    }
    // Generar Duendes
    for(let i = 0; i < elfCount; i++) {
        const duende = crearDuende();
        const posX = (Math.random() - 0.5) * 350;
        const posZ = (Math.random() - 0.5) * 350;
        duende.position.set(posX, 0, posZ);
        duende.rotation.y = Math.random() * Math.PI * 2; 
        entityGroup.add(duende); 
    }
    
    scene.add(entityGroup);

    // Funci√≥n de animaci√≥n de luces
    function animateChristmasLights(time) {
        const blinkSpeed = 0.05;
        allTreeLights.forEach(lightMesh => {
            const blinkValue = Math.sin(time * blinkSpeed + lightMesh.userData.colorIndex);
            if (blinkValue > 0.5) {
                lightMesh.material.color.setHex(lightMesh.userData.lightColor);
            } else {
                lightMesh.material.color.setHex(0x333333);
            }
        });
    }

    // --- BUCLE DE ANIMACI√ìN DEL FONDO ---
    function animateBackground() {
        requestAnimationFrame(animateBackground);

        const deltaTime = clock.getDelta();
        const globalTime = clock.elapsedTime;

        // Nieve: actualizar posiciones
        const positions = snowGeo.attributes.position.array;
        for (let i = 0; i < snowCount; i++) {
            positions[i*3 + 1] -= snowSpeeds[i] * deltaTime * 10;
            if (positions[i*3 + 1] < -50) {
                positions[i*3] = (Math.random() - 0.5) * 500;
                positions[i*3 + 1] = 150 + Math.random() * 50; 
                positions[i*3 + 2] = (Math.random() - 0.5) * 500;
            }
        }
        snowGeo.attributes.position.needsUpdate = true;

        // Animar luces de √°rboles
        animateChristmasLights(globalTime);
        entityGroup.rotation.y += deltaTime * 0.02;

        renderer.render(scene, camera);
    }
    animateBackground();

    // Redimensionamiento
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // =========================================================================================
    // === C√ìDIGO DE SCROLL DE CR√âDITOS (DOM) ===
    // =========================================================================================
    
    const container = document.querySelector('.creditos-container');
    let autoScroll = true;
    let scrollInterval;
    let inactivityTimeout;

    function startAutoScroll() {
        // Inicializa el scroll para que el contenido comience desde abajo
        container.scrollTop = -container.clientHeight; 
        scrollInterval = setInterval(() => {
            if (autoScroll) {
                container.scrollTop += 1.5; // Desplazamiento de 1.5 p√≠xeles

                // Si llega al final, reinicia
                if (container.scrollTop >= container.scrollHeight - container.clientHeight) {
                    container.scrollTop = -container.clientHeight;
                }
            }
        }, 20); // Cada 20 milisegundos
    }

    function pauseAutoScrollTemporarily() {
        autoScroll = false;
        clearTimeout(inactivityTimeout);
        inactivityTimeout = setTimeout(() => {
            autoScroll = true;
        }, 3000); 
    }

    container.addEventListener('wheel', pauseAutoScrollTemporarily);
    container.addEventListener('mousedown', pauseAutoScrollTemporarily);
    container.addEventListener('touchstart', pauseAutoScrollTemporarily);

    startAutoScroll(); // Inicia el desplazamiento

  </script>
</body>
</html>